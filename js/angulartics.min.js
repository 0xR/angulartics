!function(){var t=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1},n=[].slice;!function(t,n){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(e){return n(e,t)}):n(t.jQuery,t)}(this,function(e,r){var i,o,l,a,c,s,u,f,h,d,p,g,v,y,w,m;return i=e(r),f=t.call(r,"ontouchstart")>=0,a={horizontal:{},vertical:{}},c=1,u={},s="waypoints-context-id",p="resize.waypoints",g="scroll.waypoints",v=1,y="waypoints-waypoint-ids",w="waypoint",m="waypoints",o=function(){function t(t){var n=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+c++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(s,this.id),u[this.id]=this,t.bind(g,function(){var t;return n.didScroll||f?void 0:(n.didScroll=!0,t=function(){return n.doScroll(),n.didScroll=!1},r.setTimeout(t,e[m].settings.scrollThrottle))}),t.bind(p,function(){var t;return n.didResize?void 0:(n.didResize=!0,t=function(){return e[m]("refresh"),n.didResize=!1},r.setTimeout(t,e[m].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,n=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!f||t.vertical.oldScroll&&t.vertical.newScroll||e[m]("refresh"),e.each(t,function(t,r){var i,o,l;return l=[],o=r.newScroll>r.oldScroll,i=o?r.forward:r.backward,e.each(n.waypoints[t],function(t,n){var e,i;return r.oldScroll<(e=n.offset)&&e<=r.newScroll?l.push(n):r.newScroll<(i=n.offset)&&i<=r.oldScroll?l.push(n):void 0}),l.sort(function(t,n){return t.offset-n.offset}),o||l.reverse(),e.each(l,function(t,n){return n.options.continuous||t===l.length-1?n.trigger([i]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,n,r,i=this;return r=e.isWindow(this.element),n=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:r?0:n.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:n.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?e[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},e.each(t,function(t,n){return e.each(i.waypoints[t],function(t,r){var i,o,l,a,c;return i=r.options.offset,l=r.offset,o=e.isWindow(r.element)?0:r.$element.offset()[n.offsetProp],e.isFunction(i)?i=i.apply(r.element):"string"==typeof i&&(i=parseFloat(i),r.options.offset.indexOf("%")>-1&&(i=Math.ceil(n.contextDimension*i/100))),r.offset=o-n.contextOffset+n.contextScroll-i,r.options.onlyOnScroll&&null!=l||!r.enabled?void 0:null!==l&&l<(a=n.oldScroll)&&a<=r.offset?r.trigger([n.backward]):null!==l&&l>(c=n.oldScroll)&&c>=r.offset?r.trigger([n.forward]):null===l&&n.oldScroll>=r.offset?r.trigger([n.forward]):void 0})})},t.prototype.checkEmpty=function(){return e.isEmptyObject(this.waypoints.horizontal)&&e.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([p,g].join(" ")),delete u[this.id]):void 0},t}(),l=function(){function t(t,n,r){var i,o;r=e.extend({},e.fn[w].defaults,r),"bottom-in-view"===r.offset&&(r.offset=function(){var t;return t=e[m]("viewportHeight"),e.isWindow(n.element)||(t=n.$element.height()),t-e(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=r.horizontal?"horizontal":"vertical",this.callback=r.handler,this.context=n,this.enabled=r.enabled,this.id="waypoints"+v++,this.offset=null,this.options=r,n.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,i=null!=(o=t.data(y))?o:[],i.push(this.id),t.data(y,i)}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var n,r;return(r=e(t).data(y))?(n=e.extend({},a.horizontal,a.vertical),e.map(r,function(t){return n[t]})):[]},t}(),d={init:function(t,n){var r;return null==n&&(n={}),null==(r=n.handler)&&(n.handler=t),this.each(function(){var t,r,i,a;return t=e(this),i=null!=(a=n.context)?a:e.fn[w].defaults.context,e.isWindow(i)||(i=t.closest(i)),i=e(i),r=u[i.data(s)],r||(r=new o(i)),new l(t,r,n)}),e[m]("refresh"),this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,n){return d._traverse.call(this,t,n,function(t,n,e){return n>0?t.push(e[n-1]):void 0})},next:function(t,n){return d._traverse.call(this,t,n,function(t,n,e){return n<e.length-1?t.push(e[n+1]):void 0})},_traverse:function(t,n,i){var o,l;return null==t&&(t="vertical"),null==n&&(n=r),l=h.aggregate(n),o=[],this.each(function(){var n;return n=e.inArray(this,l[t]),i(o,n,l[t])}),this.pushStack(o)},_invoke:function(t,n){return t.each(function(){var t;return t=l.getWaypointsByElement(this),e.each(t,function(t,e){return e[n](),!0})}),this}},e.fn[w]=function(){var t,r;return r=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],d[r]?d[r].apply(this,t):e.isFunction(r)?d.init.apply(this,arguments):e.isPlainObject(r)?d.init.apply(this,[null,r]):r?e.error("The "+r+" method does not exist in jQuery Waypoints."):e.error("jQuery Waypoints needs a callback function or handler option.")},e.fn[w].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return e.each(u,function(t,n){return n.refresh()})},viewportHeight:function(){var t;return null!=(t=r.innerHeight)?t:i.height()},aggregate:function(t){var n,r,i;return n=a,t&&(n=null!=(i=u[e(t).data(s)])?i.waypoints:void 0),n?(r={horizontal:[],vertical:[]},e.each(r,function(t,i){return e.each(n[t],function(t,n){return i.push(n)}),i.sort(function(t,n){return t.offset-n.offset}),r[t]=e.map(i,function(t){return t.element}),r[t]=e.unique(r[t])}),r):[]},above:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,n){return n.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,n){return n.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,n){return n.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,n){return n.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,n){return d[t]=n},_invoke:function(t){var n;return n=e.extend({},a.vertical,a.horizontal),e.each(n,function(n,e){return e[t](),!0})},_filter:function(t,n,r){var i,o;return(i=u[e(t).data(s)])?(o=[],e.each(i.waypoints[n],function(t,n){return r(i,n)?o.push(n):void 0}),o.sort(function(t,n){return t.offset-n.offset}),e.map(o,function(t){return t.element})):[]}},e[m]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],h[e]?h[e].apply(null,t):h.aggregate.call(null,e)},e[m].settings={resizeThrottle:100,scrollThrottle:30},i.load(function(){return e[m]("refresh")})})}.call(this),function(t){t.module("angulartics",[]).provider("$analytics",function(){var n={tracking:{auto:!0}},e={settings:n,pageTrack:t.noop,eventTrack:t.noop},r=function(t){e.pageTrack=t},i=function(t){e.eventTrack=t};return{$get:function(){return e},virtualPageviews:function(t){this.settings.tracking.auto=t},settings:n,registerPageTrack:r,registerEventTrack:i}}).run(["$rootScope","$location","$analytics","$log",function(t,n,e){e.settings.tracking.auto&&t.$on("$routeChangeStart",function(){e.pageTrack(n.url())})}]).directive("analyticsOn",["$analytics",function(n){function e(t){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(t.tagName.toLowerCase()+":"+(t.type||""))>=0}function r(t){return e(t)?"click":"click"}function i(t){return e(t)?t.innerText||t.value:t.id||t.name||t.tagName}function o(t){return"analytics"===t.substr(0,9)&&-1===["on","event"].indexOf(t.substr(10))}return{restrict:"A",scope:!1,link:function(e,l,a){var c=a.analyticsOn||r(l[0]),s=a.analyticsEvent||i(l[0]),u={};t.forEach(a.$attr,function(t,n){o(t)&&(u[n.slice(9).toLowerCase()]=a[n])}),t.element(l[0]).bind(c,function(){n.eventTrack(s,u)})}}}])}(angular),function(t){t.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider",function(t){t.registerPageTrack(function(t){window._gaq&&window._gaq.push(["_trackPageview",t]),window.ga&&ga("send","pageview",t)}),t.registerEventTrack(function(t,n){window._gaq&&window._gaq.push(["_trackEvent",n.category,t,n.label,n.value]),window.ga&&window.ga("send","event",n.category,t,n.label,n.value)})}])}(angular),function(t){t.module("angulartics.scroll",["angulartics"]).directive("analyticsOn",["$analytics",function(n){function e(t){return t.id}function r(t){return"analytics"===t.substr(0,9)&&-1===["on","event"].indexOf(t.substr(10))}return{restrict:"A",priority:5,scope:!1,link:function(i,o,l){if("scroll"===l.analyticsOn){var a=l.analyticsEvent||e(o[0]),c={};c.category="Scrolling",t.forEach(l.$attr,function(t,n){r(t)&&(c[n.slice(9).toLowerCase()]=l[n])}),$(o[0]).waypoint(function(){n.eventTrack(a,c)},{triggerOnce:!0,offset:"50%",continuous:!1})}}}}])}(angular);